cat > Makefile << 'EOF'
# File: Makefile
SHELL := /bin/bash
GCP_PROJECT := $(shell gcloud config get-value project 2>/dev/null)
GCP_REGION := us-central1

# Main targets
deploy:
	@echo "🚀 Starting deployment..."
	@chmod +x deploy.sh && ./deploy.sh

validate:
	@echo "🔍 Validating..."
	@which gcloud || (echo "❌ gcloud missing"; exit 1)
	@test -f deploy.sh || (echo "❌ deploy.sh missing"; exit 1)
	@test -n "$(GCP_PROJECT)" || (echo "❌ GCP project not set"; exit 1)
	@echo "✅ All checks passed"

status:
	@echo "📊 GCP Endpoints:"
	@gcloud ai endpoints list --region=$(GCP_REGION) --format="table(name,displayName)" || echo "ℹ️ No endpoints"

help:
	@echo "Available targets:"
	@echo "  make deploy    - Run deployment"
	@echo "  make validate - Verify environment"
	@echo "  make status   - List deployments"
	@echo "  make help     - Show this help"

.PHONY: deploy validate status help
EOF